{"ast":null,"code":"import{useEffect,useState}from'react';import'./Table.css';import Item from'../Item/Item';import getItems from'../../utils/getItems';import{useModal}from'../../App';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Table(){//получаем список пользователей\nconst[users,setUsers]=useState([]);const[initialItems,setInitialItems]=useState([]);const{modalContext,setModalContext}=useModal();//фильтр по значению\nuseEffect(()=>{if(modalContext.filterValue){filterByValue();}else setUsers(initialItems);},[modalContext.filterValue]);// запрос списка\nuseEffect(()=>{getItems().then(result=>{const users=result===null||result===void 0?void 0:result.users;if(users){setUsers(result.users);setInitialItems(result.users);}}).catch(e=>console.log(e));},[]);function filterByValue(){setUsers(initialItems.filter(item=>item.firstName.toUpperCase().includes(modalContext.filterValue.toUpperCase())||item.lastName.toUpperCase().includes(modalContext.filterValue.toUpperCase())));}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"table\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table__unit\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"table__th\",children:\"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table__th\",children:\"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table__th\",children:\"email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table__th\",children:\"\\u0414\\u043E\\u043B\\u0436\\u043D\\u043E\\u0441\\u0442\\u044C\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table__th\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.length?users.map(user=>/*#__PURE__*/_jsx(Item,{user:user},user.id)):/*#__PURE__*/_jsx(_Fragment,{})})]})})});}export default Table;","map":{"version":3,"names":["useEffect","useState","Item","getItems","useModal","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Table","users","setUsers","initialItems","setInitialItems","modalContext","setModalContext","filterValue","filterByValue","then","result","catch","e","console","log","filter","item","firstName","toUpperCase","includes","lastName","children","className","length","map","user","id"],"sources":["/Users/Marina/Documents/Марина/html/2025/MAST_github/MAST_test_task/src/components/Table/Table.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport './Table.css';\nimport Item from '../Item/Item';\nimport getItems from '../../utils/getItems';\nimport { useModal } from '../../App';\n\nfunction Table() {\n\n  //получаем список пользователей\n  const [users, setUsers] = useState([]);\n  const [initialItems, setInitialItems] = useState([]);\n  \n  const { modalContext, setModalContext } = useModal();\n\n  //фильтр по значению\n  useEffect(() => {\n    if (modalContext.filterValue) {\n      filterByValue();\n    }\n    else setUsers(initialItems);\n  }, [modalContext.filterValue])\n\n  // запрос списка\n  useEffect(() => {\n    getItems()\n      .then((result) => {\n        const users = result?.users\n        if (users) {\n          setUsers(result.users);\n          setInitialItems(result.users);\n        }\n      })\n      .catch(e => console.log(e));\n  }, [])\n\n\n  function filterByValue() {\n    setUsers(initialItems.filter(item => (item.firstName.toUpperCase().includes(modalContext.filterValue.toUpperCase()) || item.lastName.toUpperCase().includes(modalContext.filterValue.toUpperCase()))));\n  }\n\n  return (\n    <>\n      <div className=\"table\">\n        <table className=\"table__unit\">\n          <thead>\n            <tr>\n              <th className=\"table__th\">Имя пользователя</th>\n              <th className=\"table__th\">Фамилия пользователя</th>\n              <th className=\"table__th\">email</th>\n              <th className=\"table__th\">Должность</th>\n              <th className=\"table__th\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            {users.length ? users.map(user => \n              <Item user = {user} key={user.id}/>\n            ) : <></>\n            }\n          </tbody>\n        </table>\n      </div>\n    </>\n  );\n}\n\nexport default Table;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}